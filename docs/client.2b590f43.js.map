{"version":3,"sources":["webpack:///client.2b590f43.js","webpack:///examples/Demo.vue","webpack:///./examples/index.js","webpack:///./index.js","webpack:///./Storage.js","webpack:///./examples/Demo.vue?87a6","webpack:///./examples/Demo.vue?1b20"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","name","data","dynamicTags","this","$localStorage","get","inputVisible","inputValue","watch","deep","immediate","handler","set","methods","handleClose","tag","splice","indexOf","showInput","_this","$nextTick","$refs","saveTagInput","input","focus","parseJSON","value","Function","e","handleInputConfirm","push","Object","assign","exports","defineProperty","__WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag__","__WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag___default","n","__WEBPACK_IMPORTED_MODULE_1____","__WEBPACK_IMPORTED_MODULE_2__Demo__","__WEBPACK_IMPORTED_MODULE_3_vue__","__WEBPACK_IMPORTED_MODULE_4_element_ui_lib_theme_chalk_tag_css__","use","a","el","render","h","localStorage2","Vue","_ref","arguments","length","undefined","_ref$namespace","namespace","prefix","cachedStorageInstance","__WEBPACK_IMPORTED_MODULE_1_sewing__","__WEBPACK_IMPORTED_MODULE_0__Storage__","defineProperties","prototype","$options","window","_toArray","arr","Array","isArray","from","_classCallCheck","instance","Constructor","TypeError","d","Storage","__WEBPACK_IMPORTED_MODULE_0_sewing__","_createClass","target","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","JSON","parse","obj","path","temp","shift","_path$split","split","_path$split2","route","slice","defaultValue","_split","item","localStorage","getItem","join","_split2","preItemValue","update","setItem","stringify","_split3","removeItem","iLength","startsWith","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_false_presets_Users_ckwu_Documents_project_vue_localstorage2_node_modules_babel_preset_poi_index_js_jsx_vue_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_Demo_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ef8f1a96_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Demo_vue__","normalizeComponent","__vue_styles__","Component","_vm","_h","$createElement","_c","_self","_v","_l","attrs","disable-transitions","closable","on","close","$event","_s","ref","staticClass","size","blur","nativeOn","keyup","_k","keyCode","model","callback","$$v","expression","click","staticRenderFns","esExports"],"mappings":"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","file":"client.2b590f43.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/*!**************************************************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/babel-loader/lib?{\"babelrc\":false,\"presets\":[[\"/Users/ckwu/Documents/project/vue-localstorage2/node_modules/babel-preset-poi/index.js\",{\"jsx\":\"vue\"}]],\"cacheDirectory\":true}!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./examples/Demo.vue ***!\n  \\**************************************************************************************************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'demo1',\n\n  data: function data() {\n    return {\n      dynamicTags: this.$localStorage.get('dynamic_tags', ['标签一', [{ name: '标签二' }], ['标签三', '标签四']]),\n      inputVisible: false,\n      inputValue: ''\n    };\n  },\n\n\n  watch: {\n    dynamicTags: {\n      deep: true,\n      immediate: true,\n      handler: function handler(dynamicTags) {\n        this.$localStorage.set('dynamic_tags', dynamicTags);\n      }\n    }\n  },\n\n  methods: {\n    handleClose: function handleClose(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    showInput: function showInput() {\n      var _this = this;\n\n      this.inputVisible = true;\n      this.$nextTick(function () {\n        _this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    parseJSON: function parseJSON(value) {\n      try {\n        return new Function('return ' + value)();\n      } catch (e) {\n        return value;\n      }\n    },\n    handleInputConfirm: function handleInputConfirm() {\n      var inputValue = this.inputValue;\n\n      if (inputValue) this.dynamicTags.push(this.parseJSON(inputValue));\n      Object.assign(this, { inputVisible: false, inputValue: '' });\n    }\n  }\n});\n\n/***/ }),\n/* 3 */\n/*!*********************************!*\\\n  !*** multi ./examples/index.js ***!\n  \\*********************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! /Users/ckwu/Documents/project/vue-localstorage2/examples/index.js */4);\n\n\n/***/ }),\n/* 4 */\n/*!***************************!*\\\n  !*** ./examples/index.js ***!\n  \\***************************/\n/*! no exports provided */\n/*! all exports used */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag__ = __webpack_require__(/*! element-ui/lib/tag */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1____ = __webpack_require__(/*! ../ */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Demo__ = __webpack_require__(/*! ./Demo */ 8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue__ = __webpack_require__(/*! vue */ 12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui_lib_theme_chalk_tag_css__ = __webpack_require__(/*! element-ui/lib/theme-chalk/tag.css */ 16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui_lib_theme_chalk_tag_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_element_ui_lib_theme_chalk_tag_css__);\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_3_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_0_element_ui_lib_tag___default.a);\n__WEBPACK_IMPORTED_MODULE_3_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1____[\"a\" /* default */]);\n\nnew __WEBPACK_IMPORTED_MODULE_3_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_2__Demo__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n/* 5 */,\n/* 6 */\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Storage__ = __webpack_require__(/*! ./Storage */ 7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_sewing__ = __webpack_require__(/*! sewing */ 1);\n\n\n\nfunction localStorage2(Vue) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === undefined ? true : _ref$namespace,\n      prefix = _ref.prefix;\n\n  var cachedStorageInstance = Object(__WEBPACK_IMPORTED_MODULE_1_sewing__[\"a\" /* cache */])(function (name) {\n    return new __WEBPACK_IMPORTED_MODULE_0__Storage__[\"a\" /* default */](name, prefix);\n  });\n\n  Object.defineProperties(Vue.prototype, {\n    '$localStorage': {\n      get: function get() {\n        var name = namespace ? this.$options.name : '';\n        return cachedStorageInstance(name);\n      }\n    }\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (localStorage2);\n\nif (typeof window !== 'undefined' && window.Vue) {\n  localStorage2(window.Vue);\n}\n\n/***/ }),\n/* 7 */\n/*!********************!*\\\n  !*** ./Storage.js ***!\n  \\********************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Storage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_sewing__ = __webpack_require__(/*! sewing */ 1);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Storage = function () {\n  _createClass(Storage, null, [{\n    key: 'parse',\n    value: function parse(value) {\n      try {\n        return JSON.parse(value);\n      } catch (e) {}\n    }\n  }, {\n    key: 'update',\n    value: function update(obj, path, value) {\n      var temp = obj;\n      while (path.length > 1) {\n        obj = obj[path.shift()];\n      }\n      obj[path.shift()] = value;\n      return temp;\n    }\n  }]);\n\n  function Storage() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'app';\n\n    _classCallCheck(this, Storage);\n\n    this.prefix = prefix + '_' + (name ? name + '_' : '');\n  }\n\n  _createClass(Storage, [{\n    key: 'split',\n    value: function split(path) {\n      var _path$split = path.split(/\\./),\n          _path$split2 = _toArray(_path$split),\n          target = _path$split2[0],\n          route = _path$split2.slice(1);\n\n      return { target: this.prefix + target, route: route };\n    }\n  }, {\n    key: 'get',\n    value: function get(path, defaultValue) {\n      var _split = this.split(path),\n          target = _split.target,\n          route = _split.route;\n\n      var item = Storage.parse(localStorage.getItem(target));\n      return Object(__WEBPACK_IMPORTED_MODULE_0_sewing__[\"b\" /* get */])(item, route.join('.'), defaultValue);\n    }\n  }, {\n    key: 'set',\n    value: function set(path, value) {\n      var _split2 = this.split(path),\n          target = _split2.target,\n          route = _split2.route;\n\n      var preItemValue = Storage.parse(localStorage.getItem(target));\n      var item = route.length > 1 ? Storage.update(preItemValue, route, value) : value;\n      localStorage.setItem(target, JSON.stringify(item));\n    }\n  }, {\n    key: 'remove',\n    value: function remove(item) {\n      var _split3 = this.split(item),\n          target = _split3.target;\n\n      localStorage.removeItem(target);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      for (var i = 0, iLength = localStorage.length; i < iLength; i++) {\n        var item = localStorage.key(i);\n        if (item.startsWith(this.prefix)) localStorage.removeItem(item);\n      }\n    }\n  }]);\n\n  return Storage;\n}();\n\n\n\n/***/ }),\n/* 8 */\n/*!***************************!*\\\n  !*** ./examples/Demo.vue ***!\n  \\***************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_false_presets_Users_ckwu_Documents_project_vue_localstorage2_node_modules_babel_preset_poi_index_js_jsx_vue_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_Demo_vue__ = __webpack_require__(/*! !babel-loader?{\"babelrc\":false,\"presets\":[[\"/Users/ckwu/Documents/project/vue-localstorage2/node_modules/babel-preset-poi/index.js\",{\"jsx\":\"vue\"}]],\"cacheDirectory\":true}!../node_modules/vue-loader/lib/selector?type=script&index=0!./Demo.vue */ 2);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ef8f1a96_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Demo_vue__ = __webpack_require__(/*! !../node_modules/vue-loader/lib/template-compiler/index?{\"id\":\"data-v-ef8f1a96\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Demo.vue */ 11);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(/*! !../node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!vue-style-loader!css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\"vue\":true,\"id\":\"data-v-ef8f1a96\",\"scoped\":false,\"hasInlineConfig\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Demo.vue */ 9)\n}\nvar normalizeComponent = __webpack_require__(/*! ../node_modules/vue-loader/lib/component-normalizer */ 10)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_false_presets_Users_ckwu_Documents_project_vue_localstorage2_node_modules_babel_preset_poi_index_js_jsx_vue_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_Demo_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ef8f1a96_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Demo_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 9 */\n/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ef8f1a96\",\"scoped\":false,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./examples/Demo.vue ***!\n  \\*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */,\n/* 11 */\n/*!****************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef8f1a96\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./examples/Demo.vue ***!\n  \\****************************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Demo\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Add any key value to local storage (including json、array). Open the developer tool to see the storage changes.\")]),_vm._v(\" \"),_vm._l((_vm.dynamicTags),function(tag,key){return _c('el-tag',{key:key,attrs:{\"disable-transitions\":false,\"closable\":\"\"},on:{\"close\":function($event){_vm.handleClose(tag)}}},[_vm._v(\"\\n      \"+_vm._s(tag)+\"\\n  \")])}),_vm._v(\" \"),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"\\n      + New Tag\\n  \")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n],[3]);\n\n\n// WEBPACK FOOTER //\n// client.2b590f43.js","<template>\n  <section>\n    <h1>Demo</h1>\n    <p>Add any key value to local storage (including json、array). Open the developer tool to see the storage changes.</p>\n\n    <el-tag\n      v-for=\"(tag, key) in dynamicTags\"\n      :disable-transitions=\"false\"\n      @close=\"handleClose(tag)\"\n      :key=\"key\"\n      closable>\n        {{ tag }}\n    </el-tag>\n    <el-input\n      class=\"input-new-tag\"\n      v-if=\"inputVisible\"\n      @keyup.enter.native=\"handleInputConfirm\"\n      @blur=\"handleInputConfirm\"\n      v-model=\"inputValue\"\n      ref=\"saveTagInput\"\n      size=\"small\">\n    </el-input>\n    <el-button\n      class=\"button-new-tag\"\n      @click=\"showInput\"\n      size=\"small\"\n      v-else>\n        + New Tag\n    </el-button>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'demo1',\n\n  data () {\n    return {\n      dynamicTags: this.$localStorage.get('dynamic_tags', ['标签一', [{ name: '标签二' }], ['标签三', '标签四']]),\n      inputVisible: false,\n      inputValue: ''\n    }\n  },\n\n  watch: {\n    dynamicTags: {\n      deep: true,\n      immediate: true,\n      handler (dynamicTags) {\n        this.$localStorage.set('dynamic_tags', dynamicTags)\n      }\n    }\n  },\n\n  methods: {\n    handleClose(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1)\n    },\n\n    showInput() {\n      this.inputVisible = true\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus()\n      })\n    },\n\n    parseJSON (value) {\n      try {\n        return new Function('return ' + value)()\n      } catch (e) {\n        return value\n      }\n    },\n\n    handleInputConfirm() {\n      const { inputValue } = this\n      if (inputValue) this.dynamicTags.push(this.parseJSON(inputValue))\n      Object.assign(this, { inputVisible: false, inputValue: '' })\n    }\n  }\n}\n</script>\n\n<style>\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// examples/Demo.vue","import Tag from 'element-ui/lib/tag'\nimport localStorage2 from '../'\nimport Demo from './Demo'\nimport Vue from 'vue'\n\nimport 'element-ui/lib/theme-chalk/tag.css'\n\nVue.use(Tag)\nVue.use(localStorage2)\n\nnew Vue({\n  el: '#app',\n  render: h => h(Demo)\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./examples/index.js","import Storage from './Storage'\nimport { cache } from 'sewing'\n\nfunction localStorage2 (Vue, { namespace = true, prefix } = {}) {\n  const cachedStorageInstance = cache(function (name) {\n    return new Storage(name, prefix)\n  })\n\n  Object.defineProperties(Vue.prototype, {\n    '$localStorage': {\n      get () {\n        const name = namespace ? this.$options.name : ''\n        return cachedStorageInstance(name)\n      }\n    }\n  })\n}\n\nexport default localStorage2\n\nif (typeof window !== 'undefined' && window.Vue) {\n  localStorage2(window.Vue)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import { get } from 'sewing'\n\nexport default class Storage {\n  static parse (value) {\n    try {\n      return JSON.parse(value)\n    } catch (e) {}\n  }\n\n  static update (obj, path, value) {\n    const temp = obj\n    while (path.length > 1) {\n      obj = obj[path.shift()]\n    }\n    obj[path.shift()] = value\n    return temp\n  }\n\n  constructor (name = '', prefix = 'app') {\n    this.prefix = `${prefix}_${name ? name + '_' : ''}`\n  }\n\n  split (path) {\n    const [target, ...route] = path.split(/\\./)\n    return { target: this.prefix + target, route }\n  }\n\n  get (path, defaultValue) {\n    const { target, route } = this.split(path)\n    const item = Storage.parse(localStorage.getItem(target))\n    return get(item, route.join('.'), defaultValue)\n  }\n\n  set (path, value) {\n    const { target, route } = this.split(path)\n    const preItemValue = Storage.parse(localStorage.getItem(target))\n    const item = route.length > 1\n      ? Storage.update(preItemValue, route, value)\n      : value\n    localStorage.setItem(target, JSON.stringify(item))\n  }\n\n  remove (item) {\n    const { target } = this.split(item)\n    localStorage.removeItem(target)\n  }\n\n  clear () {\n    for (let i = 0, iLength = localStorage.length; i < iLength; i++) {\n      const item = localStorage.key(i)\n      if (item.startsWith(this.prefix)) localStorage.removeItem(item)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Storage.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ef8f1a96\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Demo.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"babelrc\\\":false,\\\"presets\\\":[[\\\"/Users/ckwu/Documents/project/vue-localstorage2/node_modules/babel-preset-poi/index.js\\\",{\\\"jsx\\\":\\\"vue\\\"}]],\\\"cacheDirectory\\\":true}!../node_modules/vue-loader/lib/selector?type=script&index=0!./Demo.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"babelrc\\\":false,\\\"presets\\\":[[\\\"/Users/ckwu/Documents/project/vue-localstorage2/node_modules/babel-preset-poi/index.js\\\",{\\\"jsx\\\":\\\"vue\\\"}]],\\\"cacheDirectory\\\":true}!../node_modules/vue-loader/lib/selector?type=script&index=0!./Demo.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ef8f1a96\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Demo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/Demo.vue\n// module id = 8\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Demo\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Add any key value to local storage (including json、array). Open the developer tool to see the storage changes.\")]),_vm._v(\" \"),_vm._l((_vm.dynamicTags),function(tag,key){return _c('el-tag',{key:key,attrs:{\"disable-transitions\":false,\"closable\":\"\"},on:{\"close\":function($event){_vm.handleClose(tag)}}},[_vm._v(\"\\n      \"+_vm._s(tag)+\"\\n  \")])}),_vm._v(\" \"),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"\\n      + New Tag\\n  \")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef8f1a96\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./examples/Demo.vue\n// module id = 11\n// module chunks = 1"],"sourceRoot":""}